
\renewcommand*{\AA}{\mathbb{A}}
\newcommand*{\BB}{\mathbb{B}}
\newcommand*{\CC}{\mathbb{C}}
\newcommand*{\DD}{\mathbb{D}}
\newcommand*{\EE}{\mathbb{E}}
\newcommand*{\FF}{\mathbb{F}}
\newcommand*{\GG}{\mathbb{G}}
\newcommand*{\HH}{\mathbb{H}}
\newcommand*{\II}{\mathbb{I}}
\newcommand*{\NN}{\mathbb{N}}
\newcommand*{\PP}{\mathbb{P}}
\newcommand*{\QQ}{\mathbb{Q}}
\newcommand*{\RR}{\mathbb{R}}
\newcommand*{\TT}{\mathbb{T}}
\newcommand*{\LL}{\mathbb{L}}
\newcommand*{\ZZ}{\mathbb{Z}}

\newcommand*{\bF}{\mathbf{F}}

\newcommand*{\cA}{\mathcal{A}}
\newcommand*{\cB}{\mathcal{B}}
\newcommand*{\cC}{\mathcal{C}}
\newcommand*{\cD}{\mathcal{D}}
\newcommand*{\cE}{\mathcal{E}}
\newcommand*{\cF}{\mathcal{F}}
\newcommand*{\cG}{\mathcal{G}}
\newcommand*{\cH}{\mathcal{H}}
\newcommand*{\cI}{\mathcal{I}}
\newcommand*{\cJ}{\mathcal{J}}
\newcommand*{\cK}{\mathcal{K}}
\newcommand*{\cL}{\mathcal{L}}
\newcommand*{\cM}{\mathcal{M}}
\newcommand*{\cN}{\mathcal{N}}
\newcommand*{\cO}{\mathcal{O}}
\newcommand*{\cP}{\mathcal{P}}
\newcommand*{\cQ}{\mathcal{Q}}
\newcommand*{\cR}{\mathcal{R}}
\newcommand*{\cS}{\mathcal{S}}
\newcommand*{\cT}{\mathcal{T}}
\newcommand*{\cU}{\mathcal{U}}
\newcommand*{\cV}{\mathcal{V}}
\newcommand*{\cW}{\mathcal{W}}
\newcommand*{\cX}{\mathcal{X}}
\newcommand*{\cY}{\mathcal{Y}}
\newcommand*{\cZ}{\mathcal{Z}}

\newcommand*{\sA}{\mathscr{A}}
\newcommand*{\sB}{\mathscr{B}}
\newcommand*{\sC}{\mathscr{C}}
\newcommand*{\sD}{\mathscr{D}}
\newcommand*{\sE}{\mathscr{E}}
\newcommand*{\sF}{\mathscr{F}}
\newcommand*{\sG}{\mathscr{G}}
\newcommand*{\sH}{\mathscr{H}}
\newcommand*{\sI}{\mathscr{I}}
\newcommand*{\sJ}{\mathscr{J}}
\newcommand*{\sK}{\mathscr{K}}
\newcommand*{\sL}{\mathscr{L}}
\newcommand*{\sM}{\mathscr{M}}
\newcommand*{\sN}{\mathscr{N}}
\newcommand*{\sO}{\mathscr{O}}
\newcommand*{\sP}{\mathscr{P}}
\newcommand*{\sQ}{\mathscr{Q}}
\newcommand*{\sR}{\mathscr{R}}
\newcommand*{\sS}{\mathscr{S}}
\newcommand*{\sT}{\mathscr{T}}
\newcommand*{\sU}{\mathscr{U}}
\newcommand*{\sV}{\mathscr{V}}
\newcommand*{\sW}{\mathscr{W}}
\newcommand*{\sX}{\mathscr{X}}
\newcommand*{\sY}{\mathscr{Y}}
\newcommand*{\sZ}{\mathscr{Z}}

\newcommand*{\fA}{\mathfrak{A}}
\newcommand*{\fB}{\mathfrak{B}}
\newcommand*{\fC}{\mathfrak{C}}
\newcommand*{\fD}{\mathfrak{D}}
\newcommand*{\fE}{\mathfrak{E}}
\newcommand*{\fF}{\mathfrak{F}}
\newcommand*{\fG}{\mathfrak{G}}
\newcommand*{\fH}{\mathfrak{H}}
\newcommand*{\fI}{\mathfrak{I}}
\newcommand*{\fJ}{\mathfrak{J}}
\newcommand*{\fK}{\mathfrak{K}}
\newcommand*{\fL}{\mathfrak{L}}
\newcommand*{\fM}{\mathfrak{M}}
\newcommand*{\fN}{\mathfrak{N}}
\newcommand*{\fO}{\mathfrak{O}}
\newcommand*{\fP}{\mathfrak{P}}
\newcommand*{\fQ}{\mathfrak{Q}}
\newcommand*{\fR}{\mathfrak{R}}
\newcommand*{\fS}{\mathfrak{S}}
\newcommand*{\fT}{\mathfrak{T}}
\newcommand*{\fU}{\mathfrak{U}}
\newcommand*{\fV}{\mathfrak{V}}
\newcommand*{\fW}{\mathfrak{W}}
\newcommand*{\fX}{\mathfrak{X}}
\newcommand*{\fY}{\mathfrak{Y}}
\newcommand*{\fZ}{\mathfrak{Z}}

\newcommand*{\fa}{\mathfrak{a}}
\newcommand*{\fb}{\mathfrak{b}}
\newcommand*{\fc}{\mathfrak{c}}
\newcommand*{\fd}{\mathfrak{d}}
\newcommand*{\fe}{\mathfrak{e}}
\newcommand*{\ff}{\mathfrak{f}}
\newcommand*{\fg}{\mathfrak{g}}
\newcommand*{\fh}{\mathfrak{h}}
%\newcommand*{\fi}{\mathfrak{i}}
\newcommand*{\fj}{\mathfrak{j}}
\newcommand*{\fk}{\mathfrak{k}}
\newcommand*{\fl}{\mathfrak{l}}
\newcommand*{\fm}{\mathfrak{m}}
\newcommand*{\fn}{\mathfrak{n}}
\newcommand*{\fo}{\mathfrak{o}}
\newcommand*{\fp}{\mathfrak{p}}
\newcommand*{\fq}{\mathfrak{q}}
\newcommand*{\fr}{\mathfrak{r}}
\newcommand*{\fs}{\mathfrak{s}}
\newcommand*{\ft}{\mathfrak{t}}
\newcommand*{\fu}{\mathfrak{u}}
\newcommand*{\fv}{\mathfrak{v}}
\newcommand*{\fw}{\mathfrak{w}}
\newcommand*{\fx}{\mathfrak{x}}
\newcommand*{\fy}{\mathfrak{y}}
\newcommand*{\fz}{\mathfrak{z}}

\newcommand*{\sfA}{\mathsf{A}}
\newcommand*{\sfB}{\mathsf{B}}
\newcommand*{\sfC}{\mathsf{C}}
\newcommand*{\sfD}{\mathsf{D}}
\newcommand*{\sfE}{\mathsf{E}}
\newcommand*{\sfF}{\mathsf{F}}
\newcommand*{\sfG}{\mathsf{G}}
\newcommand*{\sfH}{\mathsf{H}}
\newcommand*{\sfI}{\mathsf{I}}
\newcommand*{\sfJ}{\mathsf{J}}
\newcommand*{\sfK}{\mathsf{K}}
\newcommand*{\sfL}{\mathsf{L}}
\newcommand*{\sfM}{\mathsf{M}}
\newcommand*{\sfN}{\mathsf{N}}
\newcommand*{\sfO}{\mathsf{O}}
\newcommand*{\sfP}{\mathsf{P}}
\newcommand*{\sfQ}{\mathsf{Q}}
\newcommand*{\sfR}{\mathsf{R}}
\newcommand*{\sfS}{\mathsf{S}}
\newcommand*{\sfT}{\mathsf{T}}
\newcommand*{\sfU}{\mathsf{U}}
\newcommand*{\sfV}{\mathsf{V}}
\newcommand*{\sfW}{\mathsf{W}}
\newcommand*{\sfX}{\mathsf{X}}
\newcommand*{\sfY}{\mathsf{Y}}
\newcommand*{\sfZ}{\mathsf{Z}}

\newcommand*{\testfont}{\ \\ $\cA\cB\cC\cD\cE\cF\cG\cH\cI\cJ\cK\cL\cM\cN\cO\cP\cQ\cR\cS\cT\cU\cV\cW\cX\cY\cZ$ \\ $\sA\sB\sC\sD\sE\sF\sG\sH\sI\sJ\sK\sL\sM\sN\sO\sP\sQ\sR\sS\sT\sU\sV\sW\sX\sY\sZ$ \\ $\fA\fB\fC\fD\fE\fF\fG\fH\fI\fJ\fK\fL\fM\fN\fO\fP\fQ\fR\fS\fT\fU\fV\fW\fX\fY\fZ$ \\ $\fa\fb\fc\fd\fe\ff\fg\fh\mathfrak{i}\fj\fk\fl\fm\fn\fo\fp\fq\fr\fs\ft\fu\fv\fw\fx\fy\fz$ \\}

\newcommand*{\note}[1]{\textcolor{red}{\textbf{#1}}}

\renewcommand*{\div}{\operatorname{div}}

% \newcommand*\mypound{\protect\scalebox{0.8}{\protect\raisebox{0.4ex}{\#}}}
\newcommand*{\card}{\#}
%\newcommand*{\ti}{\tilde}
\newcommand*{\wti}{\widetilde}
\makeatletter
\newcommand*{\defeq}{\mathrel{\rlap{\raisebox{0.3ex}{$\m@th\cdot$}}\raisebox{-0.3ex}{$\m@th\cdot$}}=}
\makeatother

\newcommand*{\given}{\mid}
\newcommand*{\maps}{\nobreak\mskip2mu\mathpunct{}\nonscript
  \mkern-\thinmuskip{:}\mskip6muplus1mu\relax}

%\newcommand*{\abs}[1]{{\lvert #1 \rvert}}
%\newcommand*{\bigabs}[1]{{\left\lvert #1 \right\rvert}}
\DeclarePairedDelimiter{\ang}{\langle}{\rangle}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiterX\set[1]\lbrace\rbrace{\def\given{\;\delimsize\vert\;}#1}
\DeclarePairedDelimiterX\genset[1]\langle\rangle{\def\given{\;\delimsize\vert\;}#1}

\newcommand*{\contract}[3]{\ang{#2,#3;#1}}

% \newcommand*{\rest}[2]{{% we make the whole thing an ordinary symbol
%   \left.\kern-\nulldelimiterspace % automatically resize the bar with \right
%   #1 % the function
%   \vphantom{\big|} % pretend it's a little taller at normal size
%   \right|_{#2} % this is the delimiter
%   }}

\newcommand*{\mo}[1]{\operatorname{#1}}

\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\SO}{SO}
\DeclareMathOperator{\Sp}{Sp}
\DeclareMathOperator{\U}{U}
\DeclareMathOperator{\SU}{SU}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\gr}{gr}
\DeclareMathOperator{\Ass}{Ass}
\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\Bl}{Bl}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Div}{Div}
\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\cyc}{cyc}
\DeclareMathOperator{\ch}{ch}
\DeclareMathOperator{\val}{val}

\DeclareMathOperator{\Jac}{Jac}
\DeclareMathOperator{\AJ}{AJ}
\DeclareMathOperator{\Vol}{Vol}
\DeclareMathOperator{\interior}{int}
\DeclareMathOperator{\sed}{sed}
\DeclareMathOperator{\trop}{trop}
\DeclareMathOperator{\starof}{star}
\DeclareMathOperator{\relint}{relint}
\newcommand*{\id}{\mathrm{id}}
\newcommand*{\ev}{\mathrm{ev}}
\newcommand*{\iprod}{\mathbin{\lrcorner}}
\newcommand*{\transpose}{\intercal}
\newcommand*{\inverse}[1]{#1^{-1}}
\newcommand*{\Aff}{\mathrm{Aff}}
\newcommand*{\RRbar}{\overline{\RR}}

\newcommand*{\Cd}{\cA}
\newcommand*{\Cdc}{\cA_{c}}
\newcommand*{\Hd}{H_{d''}}
\newcommand*{\Hdc}{H_{d'',c}}
\newcommand*{\Cs}{C_{\mathrm{sing}}}
\newcommand*{\uCs}{\underline{C}_{\mathrm{sing}}}
\newcommand*{\Hs}{H_{\mathrm{sing}}}
\newcommand*{\uHs}{\underline{H}_{\mathrm{sing}}}
\newcommand*{\Css}{C^{\mathrm{sing}}}
\newcommand*{\Hss}{H^{\mathrm{sing}}}
\newcommand*{\Csm}{C_{\mathrm{sm}}}
\newcommand*{\uCsm}{\underline{C}_{\mathrm{sm}}}
\newcommand*{\Hsm}{H_{\mathrm{sm}}}
\newcommand*{\uHsm}{\underline{H}_{\mathrm{sm}}}
\newcommand*{\Cssm}{C^{\mathrm{sm}}}
\newcommand*{\Hssm}{H^{\mathrm{sm}}}
\newcommand*{\Csa}{C_{\mathrm{aff}}}
\newcommand*{\Hsa}{H_{\mathrm{aff}}}
\newcommand*{\Cssa}{C^{\mathrm{aff}}}
\newcommand*{\Hssa}{H^{\mathrm{aff}}}
\newcommand*{\starC}{C^{\star}}
\DeclareMathOperator{\ddc}{dd^{c}}

\newcommand*{\uZZ}{\underline{\ZZ}}
\newcommand*{\uRR}{\underline{\RR}}

\newcommand*{\dR}{\mathrm{dR}}
\newcommand*{\aff}{\mathrm{aff}}
\newcommand*{\sh}{\mathrm{sh}}
\newcommand*{\PD}{\mathrm{PD}}

\newcommand*{\Ch}{\mathrm{Ch}}

\DeclareMathOperator{\CDiv}{CDiv}

% environments
%\swapnumbers
% \newtheorem{theorem}{Theorem}[subsection]
% \newtheorem{corollary}[theorem]{Corollary}
% \newtheorem{lemma}[theorem]{Lemma}
% \newtheorem{proposition}[theorem]{Proposition}
% \theoremstyle{definition}
% \newtheorem{definition}[theorem]{Definition}
% \newtheorem{example}[theorem]{Example}
% \newtheorem{fact}[theorem]{Fact}
% \newtheorem{remark}[theorem]{Remark}
% % more
% \newtheorem{observation}[theorem]{Observation}
% \newtheorem{notation}[theorem]{Notation}
% \newtheorem{exercise}[theorem]{Exercise}
%\newtheorem{warning}[theorem]{Warning} 
% warning is already defined. Replacing it by warning2
% \newtheorem{warning2}[theorem]{Warning}

% for author comments, see https://www.willusher.io/latex/2018/07/10/comments-in-latex
% \usepackage{soul}

% robustcommand ensures the text can be added in captions etc too
\DeclareRobustCommand{\junaid}[1]{ {\begingroup\textcolor{teal}{JH: #1}\endgroup} }
\DeclareRobustCommand{\caelan}[1]{ {\begingroup\textcolor{cyan}{CR: #1}\endgroup} }
\DeclareRobustCommand{\farbod}[1]{ {\begingroup\textcolor{purple}{FS: #1}\endgroup} }

% to add comments do \junaid, \caelan etc.
